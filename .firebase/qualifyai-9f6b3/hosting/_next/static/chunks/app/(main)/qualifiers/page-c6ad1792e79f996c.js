(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[149],{735:(e,r,t)=>{Promise.resolve().then(t.bind(t,8657))},4585:(e,r,t)=>{"use strict";t.d(r,{db:()=>n,j2:()=>d});var a=t(2078),s=t(3885),l=t(9708);let i=(0,a.Dk)().length?(0,a.Sx)():(0,a.Wp)({apiKey:"AIzaSyBxo2f_aAB1_ebGNCqOB1i3KVdavM_EZ_0",authDomain:"closepilot-58112.firebaseapp.com",projectId:"closepilot-58112",storageBucket:"closepilot-58112.firebasestorage.app",messagingSenderId:"556591368128",appId:"1:556591368128:web:baeda008a7139c12132a25"}),d=(0,s.xI)(i),n=(0,l.aU)(i);new s.HF},4901:(e,r,t)=>{"use strict";t.d(r,{A:()=>n,AuthProvider:()=>c});var a=t(5155),s=t(2115),l=t(3885),i=t(4585);let d=(0,s.createContext)({user:null,loading:!0,logout:async()=>{}}),n=()=>(0,s.useContext)(d),c=e=>{let{children:r}=e,[t,n]=(0,s.useState)(null),[c,o]=(0,s.useState)(!0);(0,s.useEffect)(()=>{let e=(0,l.hg)(i.j2,e=>{n(e),o(!1)});return()=>e()},[]);let x=async()=>{await (0,l.CI)(i.j2)};return(0,a.jsx)(d.Provider,{value:{user:t,loading:c,logout:x},children:r})}},6191:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(5121).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},8125:(e,r,t)=>{"use strict";t.d(r,{MV:()=>c,jB:()=>n,uz:()=>d});var a=t(2115),s=t(9708),l=t(4585),i=t(4901);let d=()=>{let{user:e}=(0,i.A)(),[r,t]=(0,a.useState)([]),[d,n]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{if(!e){t([]),n(!1);return}n(!0);let r=(0,s.P)((0,s.rJ)(l.db,"leads"),(0,s._M)("userId","==",e.uid),(0,s.My)("createdAt","desc")),a=(0,s.aQ)(r,e=>{t(e.docs.map(e=>({id:e.id,...e.data()}))),n(!1)},e=>{console.error("Error fetching user leads:",e),n(!1)});return()=>a()},[e]),{leads:r,loading:d}},n=()=>{let{user:e}=(0,i.A)(),[r,t]=(0,a.useState)([]),[d,n]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{if(!e){t([]),n(!1);return}n(!0);let r=(0,s.P)((0,s.rJ)(l.db,"qualifiers"),(0,s._M)("userId","==",e.uid),(0,s.My)("createdAt","desc")),a=(0,s.aQ)(r,e=>{t(e.docs.map(e=>({id:e.id,...e.data()}))),n(!1)},e=>{console.error("Error fetching qualifiers:",e),n(!1)});return()=>a()},[e]),{qualifiers:r,loading:d}},c=e=>{let[r,t]=(0,a.useState)(null),[i,d]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{if(!e)return;d(!0);let r=(0,s.H9)(l.db,"qualifiers",e),a=(0,s.aQ)(r,e=>{e.exists()?t({id:e.id,...e.data()}):t(null),d(!1)},e=>{console.error("Error fetching qualifier:",e),d(!1)});return()=>a()},[e]),{qualifier:r,loading:i}}},8566:(e,r,t)=>{"use strict";t.d(r,{X:()=>a});var a=function(e){return e.HOT="HOT",e.WARM="WARM",e.COLD="COLD",e}({})},8657:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>m});var a=t(5155);t(2115);var s=t(2619),l=t.n(s),i=t(6191),d=t(6154),n=t(5121);let c=(0,n.A)("ellipsis-vertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),o=(0,n.A)("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),x=(0,n.A)("pen-line",[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);var u=t(8125),h=t(8566);let m=()=>{let{qualifiers:e,loading:r}=(0,u.jB)(),{leads:t,loading:s}=(0,u.uz)(),n=e.map(e=>{let r=t.filter(r=>r.qualifierId===e.id),a=r.length,s=r.filter(e=>e.status===h.X.HOT).length,l=a>0?(s/a*100).toFixed(0)+"%":"0%";return{...e,leadsCount:a,conversionRate:l,formattedDate:new Date(e.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}});return r||s?(0,a.jsx)("div",{className:"flex h-screen items-center justify-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-6 py-10",children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-10",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"My Qualifiers"}),(0,a.jsx)("p",{className:"text-gray-400",children:"Build and manage your AI-powered intake funnels."})]}),(0,a.jsxs)(l(),{href:"/builder",className:"px-6 py-3 bg-primary-600 hover:bg-primary-500 text-white rounded-xl font-bold flex items-center justify-center gap-2 btn-glow transition-all",children:[(0,a.jsx)(i.A,{size:20}),"Create New Qualifier"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.map(e=>(0,a.jsxs)("div",{className:"glass p-6 rounded-2xl border-gray-800/50 hover:border-primary-500/30 transition-all flex flex-col group",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-6",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-dark-800 rounded-xl flex items-center justify-center group-hover:bg-primary-600/20 transition-colors",children:(0,a.jsx)(d.A,{className:"w-6 h-6 ".concat("active"===e.status?"text-primary-400":"text-gray-600")})}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"px-2 py-0.5 rounded text-[10px] font-black uppercase tracking-widest ".concat("active"===e.status?"bg-green-500/10 text-green-400":"bg-gray-800 text-gray-500"),children:e.status}),(0,a.jsx)("button",{className:"text-gray-500 hover:text-white",children:(0,a.jsx)(c,{size:18})})]})]}),(0,a.jsx)("h3",{className:"text-xl font-bold text-white mb-2 group-hover:text-primary-400 transition-colors",children:e.name}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 mb-6",children:["Created on ",e.formattedDate]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[(0,a.jsxs)("div",{className:"bg-dark-950/50 p-3 rounded-xl border border-gray-800",children:[(0,a.jsx)("div",{className:"text-lg font-black text-white",children:e.leadsCount}),(0,a.jsx)("div",{className:"text-[10px] text-gray-500 uppercase font-black",children:"Total Leads"})]}),(0,a.jsxs)("div",{className:"bg-dark-950/50 p-3 rounded-xl border border-gray-800",children:[(0,a.jsx)("div",{className:"text-lg font-black text-white",children:e.conversionRate}),(0,a.jsx)("div",{className:"text-[10px] text-gray-500 uppercase font-black",children:"Conv. Rate"})]})]}),(0,a.jsxs)("div",{className:"mt-auto pt-4 border-t border-gray-800 flex items-center justify-between gap-3",children:[(0,a.jsxs)(l(),{href:"/chat/".concat(e.id),target:"_blank",className:"flex-1 py-2.5 bg-dark-800 hover:bg-dark-700 text-white rounded-lg text-xs font-bold flex items-center justify-center gap-2 transition-all",children:[(0,a.jsx)(o,{size:14}),"Test Link"]}),(0,a.jsxs)(l(),{href:"/builder/".concat(e.id),className:"flex-1 py-2.5 bg-primary-600/10 hover:bg-primary-600/20 text-primary-400 rounded-lg text-xs font-bold flex items-center justify-center gap-2 transition-all border border-primary-500/20",children:[(0,a.jsx)(x,{size:14}),"Edit"]})]})]},e.id)),(0,a.jsxs)(l(),{href:"/builder",className:"border-2 border-dashed border-gray-800 rounded-2xl flex flex-col items-center justify-center p-8 hover:border-primary-500/50 transition-all group min-h-[300px]",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-dark-800 rounded-full flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:(0,a.jsx)(i.A,{className:"text-gray-500 group-hover:text-primary-400",size:32})}),(0,a.jsx)("span",{className:"text-gray-500 font-bold group-hover:text-white transition-colors",children:"Add New Qualifier"})]})]})]})}}},e=>{e.O(0,[992,811,477,206,441,255,358],()=>e(e.s=735)),_N_E=e.O()}]);