(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[603],{4585:(e,t,r)=>{"use strict";r.d(t,{db:()=>i,j2:()=>n});var a=r(2078),s=r(3885),l=r(9708);let d=(0,a.Dk)().length?(0,a.Sx)():(0,a.Wp)({apiKey:"AIzaSyBxo2f_aAB1_ebGNCqOB1i3KVdavM_EZ_0",authDomain:"closepilot-58112.firebaseapp.com",projectId:"closepilot-58112",storageBucket:"closepilot-58112.firebasestorage.app",messagingSenderId:"556591368128",appId:"1:556591368128:web:baeda008a7139c12132a25"}),n=(0,s.xI)(d),i=(0,l.aU)(d);new s.HF},4901:(e,t,r)=>{"use strict";r.d(t,{A:()=>i,AuthProvider:()=>o});var a=r(5155),s=r(2115),l=r(3885),d=r(4585);let n=(0,s.createContext)({user:null,loading:!0,logout:async()=>{}}),i=()=>(0,s.useContext)(n),o=e=>{let{children:t}=e,[r,i]=(0,s.useState)(null),[o,c]=(0,s.useState)(!0);(0,s.useEffect)(()=>{let e=(0,l.hg)(d.j2,e=>{i(e),c(!1)});return()=>e()},[]);let x=async()=>{await (0,l.CI)(d.j2)};return(0,a.jsx)(n.Provider,{value:{user:r,loading:o,logout:x},children:t})}},5121:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var a=r(2115);let s=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()},l=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)};var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,a.forwardRef)((e,t)=>{let{color:r="currentColor",size:l=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:o="",children:c,iconNode:x,...u}=e;return(0,a.createElement)("svg",{ref:t,...d,width:l,height:l,stroke:r,strokeWidth:i?24*Number(n)/Number(l):n,className:s("lucide",o),...!c&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0;return!1})(u)&&{"aria-hidden":"true"},...u},[...x.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(c)?c:[c]])}),i=(e,t)=>{let r=(0,a.forwardRef)((r,d)=>{let{className:i,...o}=r;return(0,a.createElement)(n,{ref:d,iconNode:t,className:s("lucide-".concat(l(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),i),...o})});return r.displayName=l(e),r}},6064:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var a=r(5155),s=r(2115),l=r(5121);let d=(0,l.A)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),n=(0,l.A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),i=(0,l.A)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]),o=(0,l.A)("arrow-up-down",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]),c=(0,l.A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var x=r(8566),u=r(8125);let p=()=>{let{leads:e,loading:t}=(0,u.uz)(),[r,l]=(0,s.useState)(""),p=e.filter(e=>e.name.toLowerCase().includes(r.toLowerCase())||e.email.toLowerCase().includes(r.toLowerCase()));return t?(0,a.jsx)("div",{className:"flex h-screen items-center justify-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-6 py-10",children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-10",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"Prospect Intelligence"}),(0,a.jsx)("p",{className:"text-gray-400",children:"Manage and analyze your high-ticket service leads."})]}),(0,a.jsxs)("button",{onClick:()=>{if(0===p.length)return;let e=new Blob([["Name,Email,Status,Score,Budget,Source,Date,Summary",...p.map(e=>{var t;return['"'.concat(e.name,'"'),'"'.concat(e.email,'"'),e.status,e.score,'"'.concat(e.budget||"",'"'),'"'.concat(e.source||"",'"'),'"'.concat(new Date(e.createdAt).toLocaleDateString(),'"'),'"'.concat((null==(t=e.responses)?void 0:t.summary)||"",'"').replace(/"/g,'""')].join(",")})].join("\n")],{type:"text/csv;charset=utf-8;"}),t=URL.createObjectURL(e),r=document.createElement("a");r.href=t,r.setAttribute("download","leads_export.csv"),document.body.appendChild(r),r.click(),document.body.removeChild(r)},className:"px-5 py-2.5 bg-dark-800 hover:bg-dark-700 text-white rounded-xl font-bold transition-all border border-gray-700 flex items-center gap-2",children:[(0,a.jsx)(d,{size:18}),"Export CSV"]})]}),(0,a.jsxs)("div",{className:"glass rounded-3xl border-gray-800/50 overflow-hidden",children:[(0,a.jsxs)("div",{className:"p-6 border-b border-gray-800 flex flex-col md:flex-row gap-4 items-center justify-between",children:[(0,a.jsxs)("div",{className:"relative w-full md:w-96",children:[(0,a.jsx)(n,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",size:18}),(0,a.jsx)("input",{type:"text",placeholder:"Search leads...",value:r,onChange:e=>l(e.target.value),className:"w-full bg-dark-950 border border-gray-800 rounded-2xl pl-12 pr-4 py-3 text-sm text-white focus:outline-none focus:border-primary-500 transition-all"})]}),(0,a.jsxs)("div",{className:"flex gap-2 w-full md:w-auto",children:[(0,a.jsxs)("button",{className:"flex-1 md:flex-none px-4 py-3 bg-dark-900 border border-gray-800 rounded-xl text-gray-400 hover:text-white transition-all flex items-center justify-center gap-2 text-sm font-medium",children:[(0,a.jsx)(i,{size:16}),"Filters"]}),(0,a.jsxs)("button",{className:"flex-1 md:flex-none px-4 py-3 bg-dark-900 border border-gray-800 rounded-xl text-gray-400 hover:text-white transition-all flex items-center justify-center gap-2 text-sm font-medium",children:[(0,a.jsx)(o,{size:16}),"Sort"]})]})]}),(0,a.jsx)("div",{className:"overflow-x-auto min-h-[400px]",children:(0,a.jsxs)("table",{className:"w-full border-collapse",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"bg-dark-900/50",children:[(0,a.jsx)("th",{className:"px-6 py-4 text-left text-xs font-black text-gray-500 uppercase tracking-widest",children:"Prospect"}),(0,a.jsx)("th",{className:"px-6 py-4 text-left text-xs font-black text-gray-500 uppercase tracking-widest",children:"Score / Fitness"}),(0,a.jsx)("th",{className:"px-6 py-4 text-left text-xs font-black text-gray-500 uppercase tracking-widest",children:"Budget"}),(0,a.jsx)("th",{className:"px-6 py-4 text-left text-xs font-black text-gray-500 uppercase tracking-widest",children:"Channel"}),(0,a.jsx)("th",{className:"px-6 py-4 text-left text-xs font-black text-gray-500 uppercase tracking-widest",children:"Received"}),(0,a.jsx)("th",{className:"px-6 py-4 text-right"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-gray-800",children:0===p.length?(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:6,className:"px-6 py-12 text-center text-gray-500",children:"No leads found. Share your qualifier link to get started!"})}):p.map(e=>(0,a.jsxs)("tr",{className:"group hover:bg-dark-900/40 transition-colors cursor-pointer",children:[(0,a.jsx)("td",{className:"px-6 py-5",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary-600 to-indigo-600 flex items-center justify-center text-xs font-black text-white glow-primary shrink-0",children:(e.name||"Unknown").split(" ").map(e=>e[0]).join("").slice(0,2)}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-bold text-white group-hover:text-primary-400 transition-colors",children:e.name||"Unknown User"}),(0,a.jsx)("div",{className:"text-[10px] text-gray-500 font-mono",children:e.email||"No email"})]})]})}),(0,a.jsx)("td",{className:"px-6 py-5",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("span",{className:"px-2 py-1 rounded-md text-[10px] font-black tracking-wider uppercase ".concat((e=>{switch(e){case x.X.HOT:return"bg-green-500/10 text-green-400 border border-green-500/20";case x.X.WARM:return"bg-amber-500/10 text-amber-400 border border-amber-500/20";case x.X.COLD:return"bg-red-500/10 text-red-400 border border-red-500/20";default:return"bg-gray-800 text-gray-400"}})(e.status)),children:e.status}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-12 h-1 bg-gray-800 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full ".concat(e.score>80?"bg-green-500":e.score>50?"bg-amber-500":"bg-red-500"),style:{width:"".concat(e.score,"%")}})}),(0,a.jsx)("span",{className:"text-xs font-mono font-bold text-gray-400",children:e.score})]})]})}),(0,a.jsx)("td",{className:"px-6 py-5 text-sm font-bold text-gray-300",children:e.budget||"-"}),(0,a.jsx)("td",{className:"px-6 py-5 text-xs text-gray-500",children:e.source||"Direct"}),(0,a.jsx)("td",{className:"px-6 py-5 text-xs text-gray-500",children:(e=>e?new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric"}):"N/A")(e.createdAt)}),(0,a.jsx)("td",{className:"px-6 py-5 text-right",children:(0,a.jsx)("button",{className:"p-2 text-gray-500 hover:text-white hover:bg-gray-800 rounded-lg transition-all",children:(0,a.jsx)(c,{size:18})})})]},e.id))})]})}),(0,a.jsxs)("div",{className:"p-6 border-t border-gray-800 flex items-center justify-between",children:[(0,a.jsxs)("span",{className:"text-xs text-gray-500",children:["Showing ",p.length," of ",e.length," leads"]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{className:"px-4 py-2 bg-dark-900 border border-gray-800 rounded-lg text-xs font-bold text-gray-400 hover:text-white transition-all disabled:opacity-50",disabled:!0,children:"Previous"}),(0,a.jsx)("button",{className:"px-4 py-2 bg-dark-900 border border-gray-800 rounded-lg text-xs font-bold text-gray-400 hover:text-white transition-all disabled:opacity-50",disabled:!0,children:"Next"})]})]})]})]})}},8125:(e,t,r)=>{"use strict";r.d(t,{MV:()=>o,jB:()=>i,uz:()=>n});var a=r(2115),s=r(9708),l=r(4585),d=r(4901);let n=()=>{let{user:e}=(0,d.A)(),[t,r]=(0,a.useState)([]),[n,i]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{if(!e){r([]),i(!1);return}i(!0);let t=(0,s.P)((0,s.rJ)(l.db,"leads"),(0,s._M)("userId","==",e.uid)),a=(0,s.aQ)(t,e=>{let t=e.docs.map(e=>{var t,r;let a=e.data();return{id:e.id,...a,createdAt:(null==(t=a.createdAt)?void 0:t.toMillis)?a.createdAt.toMillis():"number"==typeof a.createdAt?a.createdAt:Date.now(),updatedAt:(null==(r=a.updatedAt)?void 0:r.toMillis)?a.updatedAt.toMillis():"number"==typeof a.updatedAt?a.updatedAt:Date.now()}});t.sort((e,t)=>(t.createdAt||0)-(e.createdAt||0)),r(t),i(!1)},e=>{console.error("Error fetching user leads:",e),i(!1)});return()=>a()},[e]),{leads:t,loading:n}},i=()=>{let{user:e}=(0,d.A)(),[t,r]=(0,a.useState)([]),[n,i]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{if(!e){r([]),i(!1);return}i(!0);let t=(0,s.P)((0,s.rJ)(l.db,"qualifiers"),(0,s._M)("userId","==",e.uid)),a=(0,s.aQ)(t,e=>{let t=e.docs.map(e=>{var t,r;let a=e.data();return{id:e.id,...a,createdAt:(null==(t=a.createdAt)?void 0:t.toMillis)?a.createdAt.toMillis():"number"==typeof a.createdAt?a.createdAt:Date.now(),updatedAt:(null==(r=a.updatedAt)?void 0:r.toMillis)?a.updatedAt.toMillis():"number"==typeof a.updatedAt?a.updatedAt:Date.now()}});t.sort((e,t)=>(t.createdAt||0)-(e.createdAt||0)),r(t),i(!1)},e=>{console.error("Error fetching qualifiers:",e),i(!1)});return()=>a()},[e]),{qualifiers:t,loading:n}},o=e=>{let[t,r]=(0,a.useState)(null),[d,n]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{if(!e)return;n(!0);let t=(0,s.H9)(l.db,"qualifiers",e),a=(0,s.aQ)(t,e=>{e.exists()?r({id:e.id,...e.data()}):r(null),n(!1)},e=>{console.error("Error fetching qualifier:",e),n(!1)});return()=>a()},[e]),{qualifier:t,loading:d}}},8566:(e,t,r)=>{"use strict";r.d(t,{X:()=>a});var a=function(e){return e.HOT="HOT",e.WARM="WARM",e.COLD="COLD",e}({})},9171:(e,t,r)=>{Promise.resolve().then(r.bind(r,6064))}},e=>{e.O(0,[992,811,477,441,255,358],()=>e(e.s=9171)),_N_E=e.O()}]);