(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[149],{735:(e,t,r)=>{Promise.resolve().then(r.bind(r,6319))},4585:(e,t,r)=>{"use strict";r.d(t,{db:()=>n,j2:()=>d});var a=r(2078),s=r(3885),l=r(9708);let i=(0,a.Dk)().length?(0,a.Sx)():(0,a.Wp)({apiKey:"AIzaSyBxo2f_aAB1_ebGNCqOB1i3KVdavM_EZ_0",authDomain:"closepilot-58112.firebaseapp.com",projectId:"closepilot-58112",storageBucket:"closepilot-58112.firebasestorage.app",messagingSenderId:"556591368128",appId:"1:556591368128:web:baeda008a7139c12132a25"}),d=(0,s.xI)(i),n=(0,l.aU)(i);new s.HF},4901:(e,t,r)=>{"use strict";r.d(t,{A:()=>n,AuthProvider:()=>o});var a=r(5155),s=r(2115),l=r(3885),i=r(4585);let d=(0,s.createContext)({user:null,loading:!0,logout:async()=>{}}),n=()=>(0,s.useContext)(d),o=e=>{let{children:t}=e,[r,n]=(0,s.useState)(null),[o,c]=(0,s.useState)(!0);(0,s.useEffect)(()=>{let e=(0,l.hg)(i.j2,e=>{n(e),c(!1)});return()=>e()},[]);let u=async()=>{await (0,l.CI)(i.j2)};return(0,a.jsx)(d.Provider,{value:{user:r,loading:o,logout:u},children:t})}},6191:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(5121).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},6319:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>g});var a=r(5155),s=r(2115),l=r(2619),i=r.n(l),d=r(6191),n=r(6154),o=r(5121);let c=(0,o.A)("ellipsis-vertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),u=(0,o.A)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),x=(0,o.A)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),p=(0,o.A)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),h=(0,o.A)("pen-line",[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);var m=r(8125),f=r(8566);let g=()=>{let{qualifiers:e,loading:t}=(0,m.jB)(),{leads:r,loading:l}=(0,m.uz)(),[o,g]=(0,s.useState)(null),b=e.map(e=>{let t=r.filter(t=>t.qualifierId===e.id),a=t.length,s=t.filter(e=>e.status===f.X.HOT).length,l=a>0?(s/a*100).toFixed(0)+"%":"0%";return{...e,leadsCount:a,conversionRate:l,formattedDate:new Date(e.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}});return t||l?(0,a.jsx)("div",{className:"flex h-screen items-center justify-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-6 py-10",children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-10",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"My Qualifiers"}),(0,a.jsx)("p",{className:"text-gray-400",children:"Build and manage your AI-powered intake funnels."})]}),(0,a.jsxs)(i(),{href:"/builder",className:"px-6 py-3 bg-primary-600 hover:bg-primary-500 text-white rounded-xl font-bold flex items-center justify-center gap-2 btn-glow transition-all",children:[(0,a.jsx)(d.A,{size:20}),"Create New Qualifier"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[b.map(e=>(0,a.jsxs)("div",{className:"glass p-6 rounded-2xl border-gray-800/50 hover:border-primary-500/30 transition-all flex flex-col group",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-6",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-dark-800 rounded-xl flex items-center justify-center group-hover:bg-primary-600/20 transition-colors",children:(0,a.jsx)(n.A,{className:"w-6 h-6 ".concat("active"===e.status?"text-primary-400":"text-gray-600")})}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"px-2 py-0.5 rounded text-[10px] font-black uppercase tracking-widest ".concat("active"===e.status?"bg-green-500/10 text-green-400":"bg-gray-800 text-gray-500"),children:e.status}),(0,a.jsx)("button",{className:"text-gray-500 hover:text-white",children:(0,a.jsx)(c,{size:18})})]})]}),(0,a.jsx)("h3",{className:"text-xl font-bold text-white mb-2 group-hover:text-primary-400 transition-colors",children:e.name}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 mb-6",children:["Created on ",e.formattedDate]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[(0,a.jsxs)("div",{className:"bg-dark-950/50 p-3 rounded-xl border border-gray-800",children:[(0,a.jsx)("div",{className:"text-lg font-black text-white",children:e.leadsCount}),(0,a.jsx)("div",{className:"text-[10px] text-gray-500 uppercase font-black",children:"Total Leads"})]}),(0,a.jsxs)("div",{className:"bg-dark-950/50 p-3 rounded-xl border border-gray-800",children:[(0,a.jsx)("div",{className:"text-lg font-black text-white",children:e.conversionRate}),(0,a.jsx)("div",{className:"text-[10px] text-gray-500 uppercase font-black",children:"Conv. Rate"})]})]}),(0,a.jsxs)("div",{className:"mt-auto pt-4 border-t border-gray-800 flex items-center justify-between gap-2",children:[(0,a.jsxs)("button",{onClick:()=>(e=>{let t="".concat(window.location.origin,"/chat?id=").concat(e);navigator.clipboard.writeText(t),g(e),setTimeout(()=>g(null),2e3)})(e.id),className:"flex-1 py-2.5 bg-dark-800 hover:bg-dark-700 text-white rounded-lg text-xs font-bold flex items-center justify-center gap-2 transition-all border border-transparent hover:border-gray-700",title:"Copy Link",children:[o===e.id?(0,a.jsx)(u,{size:14,className:"text-green-400"}):(0,a.jsx)(x,{size:14}),o===e.id?"Copied":"Copy"]}),(0,a.jsxs)(i(),{href:"/chat?id=".concat(e.id),target:"_blank",className:"flex-1 py-2.5 bg-primary-600/10 hover:bg-primary-600/20 text-primary-400 rounded-lg text-xs font-bold flex items-center justify-center gap-2 transition-all border border-primary-500/20",children:[(0,a.jsx)(p,{size:14}),"Test"]}),(0,a.jsxs)(i(),{href:"/builder?id=".concat(e.id),className:"flex-1 py-2.5 bg-dark-800 hover:bg-dark-700 text-white rounded-lg text-xs font-bold flex items-center justify-center gap-2 transition-all border border-transparent hover:border-gray-700",children:[(0,a.jsx)(h,{size:14}),"Edit"]})]})]},e.id)),(0,a.jsxs)(i(),{href:"/builder",className:"border-2 border-dashed border-gray-800 rounded-2xl flex flex-col items-center justify-center p-8 hover:border-primary-500/50 transition-all group min-h-[300px]",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-dark-800 rounded-full flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:(0,a.jsx)(d.A,{className:"text-gray-500 group-hover:text-primary-400",size:32})}),(0,a.jsx)("span",{className:"text-gray-500 font-bold group-hover:text-white transition-colors",children:"Add New Qualifier"})]})]})]})}},8125:(e,t,r)=>{"use strict";r.d(t,{MV:()=>o,jB:()=>n,uz:()=>d});var a=r(2115),s=r(9708),l=r(4585),i=r(4901);let d=()=>{let{user:e}=(0,i.A)(),[t,r]=(0,a.useState)([]),[d,n]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{if(!e){r([]),n(!1);return}n(!0);let t=(0,s.P)((0,s.rJ)(l.db,"leads"),(0,s._M)("userId","==",e.uid)),a=(0,s.aQ)(t,e=>{let t=e.docs.map(e=>{var t,r;let a=e.data();return{id:e.id,...a,createdAt:(null==(t=a.createdAt)?void 0:t.toMillis)?a.createdAt.toMillis():"number"==typeof a.createdAt?a.createdAt:Date.now(),updatedAt:(null==(r=a.updatedAt)?void 0:r.toMillis)?a.updatedAt.toMillis():"number"==typeof a.updatedAt?a.updatedAt:Date.now()}});t.sort((e,t)=>(t.createdAt||0)-(e.createdAt||0)),r(t),n(!1)},e=>{console.error("Error fetching user leads:",e),n(!1)});return()=>a()},[e]),{leads:t,loading:d}},n=()=>{let{user:e}=(0,i.A)(),[t,r]=(0,a.useState)([]),[d,n]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{if(!e){r([]),n(!1);return}n(!0);let t=(0,s.P)((0,s.rJ)(l.db,"qualifiers"),(0,s._M)("userId","==",e.uid)),a=(0,s.aQ)(t,e=>{let t=e.docs.map(e=>{var t,r;let a=e.data();return{id:e.id,...a,createdAt:(null==(t=a.createdAt)?void 0:t.toMillis)?a.createdAt.toMillis():"number"==typeof a.createdAt?a.createdAt:Date.now(),updatedAt:(null==(r=a.updatedAt)?void 0:r.toMillis)?a.updatedAt.toMillis():"number"==typeof a.updatedAt?a.updatedAt:Date.now()}});t.sort((e,t)=>(t.createdAt||0)-(e.createdAt||0)),r(t),n(!1)},e=>{console.error("Error fetching qualifiers:",e),n(!1)});return()=>a()},[e]),{qualifiers:t,loading:d}},o=e=>{let[t,r]=(0,a.useState)(null),[i,d]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{if(!e)return;d(!0);let t=(0,s.H9)(l.db,"qualifiers",e),a=(0,s.aQ)(t,e=>{e.exists()?r({id:e.id,...e.data()}):r(null),d(!1)},e=>{console.error("Error fetching qualifier:",e),d(!1)});return()=>a()},[e]),{qualifier:t,loading:i}}},8566:(e,t,r)=>{"use strict";r.d(t,{X:()=>a});var a=function(e){return e.HOT="HOT",e.WARM="WARM",e.COLD="COLD",e}({})}},e=>{e.O(0,[992,811,477,206,441,255,358],()=>e(e.s=735)),_N_E=e.O()}]);