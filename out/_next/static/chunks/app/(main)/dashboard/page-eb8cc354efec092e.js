(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[660],{3:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(5121).A)("list",[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]])},80:(e,t,a)=>{Promise.resolve().then(a.bind(a,8760))},1169:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(5121).A)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},4585:(e,t,a)=>{"use strict";a.d(t,{db:()=>n,j2:()=>i});var s=a(2078),r=a(3885),l=a(9708);let d=(0,s.Dk)().length?(0,s.Sx)():(0,s.Wp)({apiKey:"AIzaSyBxo2f_aAB1_ebGNCqOB1i3KVdavM_EZ_0",authDomain:"closepilot-58112.firebaseapp.com",projectId:"closepilot-58112",storageBucket:"closepilot-58112.firebasestorage.app",messagingSenderId:"556591368128",appId:"1:556591368128:web:baeda008a7139c12132a25"}),i=(0,r.xI)(d),n=(0,l.aU)(d);new r.HF},4901:(e,t,a)=>{"use strict";a.d(t,{A:()=>n,AuthProvider:()=>c});var s=a(5155),r=a(2115),l=a(3885),d=a(4585);let i=(0,r.createContext)({user:null,loading:!0,logout:async()=>{}}),n=()=>(0,r.useContext)(i),c=e=>{let{children:t}=e,[a,n]=(0,r.useState)(null),[c,o]=(0,r.useState)(!0);(0,r.useEffect)(()=>{let e=(0,l.hg)(d.j2,e=>{n(e),o(!1)});return()=>e()},[]);let x=async()=>{await (0,l.CI)(d.j2)};return(0,s.jsx)(i.Provider,{value:{user:a,loading:c,logout:x},children:t})}},7586:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(5121).A)("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]])},8125:(e,t,a)=>{"use strict";a.d(t,{MV:()=>c,jB:()=>n,uz:()=>i});var s=a(2115),r=a(9708),l=a(4585),d=a(4901);let i=()=>{let{user:e}=(0,d.A)(),[t,a]=(0,s.useState)([]),[i,n]=(0,s.useState)(!0);return(0,s.useEffect)(()=>{if(!e){a([]),n(!1);return}n(!0);let t=(0,r.P)((0,r.rJ)(l.db,"leads"),(0,r._M)("userId","==",e.uid)),s=(0,r.aQ)(t,e=>{let t=e.docs.map(e=>{var t,a;let s=e.data();return{id:e.id,...s,createdAt:(null==(t=s.createdAt)?void 0:t.toMillis)?s.createdAt.toMillis():"number"==typeof s.createdAt?s.createdAt:Date.now(),updatedAt:(null==(a=s.updatedAt)?void 0:a.toMillis)?s.updatedAt.toMillis():"number"==typeof s.updatedAt?s.updatedAt:Date.now()}});t.sort((e,t)=>(t.createdAt||0)-(e.createdAt||0)),a(t),n(!1)},e=>{console.error("Error fetching user leads:",e),n(!1)});return()=>s()},[e]),{leads:t,loading:i}},n=()=>{let{user:e}=(0,d.A)(),[t,a]=(0,s.useState)([]),[i,n]=(0,s.useState)(!0);return(0,s.useEffect)(()=>{if(!e){a([]),n(!1);return}n(!0);let t=(0,r.P)((0,r.rJ)(l.db,"qualifiers"),(0,r._M)("userId","==",e.uid)),s=(0,r.aQ)(t,e=>{let t=e.docs.map(e=>{var t,a;let s=e.data();return{id:e.id,...s,createdAt:(null==(t=s.createdAt)?void 0:t.toMillis)?s.createdAt.toMillis():"number"==typeof s.createdAt?s.createdAt:Date.now(),updatedAt:(null==(a=s.updatedAt)?void 0:a.toMillis)?s.updatedAt.toMillis():"number"==typeof s.updatedAt?s.updatedAt:Date.now()}});t.sort((e,t)=>(t.createdAt||0)-(e.createdAt||0)),a(t),n(!1)},e=>{console.error("Error fetching qualifiers:",e),n(!1)});return()=>s()},[e]),{qualifiers:t,loading:i}},c=e=>{let[t,a]=(0,s.useState)(null),[d,i]=(0,s.useState)(!0);return(0,s.useEffect)(()=>{if(!e)return;i(!0);let t=(0,r.H9)(l.db,"qualifiers",e),s=(0,r.aQ)(t,e=>{e.exists()?a({id:e.id,...e.data()}):a(null),i(!1)},e=>{console.error("Error fetching qualifier:",e),i(!1)});return()=>s()},[e]),{qualifier:t,loading:d}}},8566:(e,t,a)=>{"use strict";a.d(t,{X:()=>s});var s=function(e){return e.HOT="HOT",e.WARM="WARM",e.COLD="COLD",e}({})},8760:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>b});var s=a(5155);a(2115);var r=a(2619),l=a.n(r),d=a(1169),i=a(5121);let n=(0,i.A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),c=(0,i.A)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);var o=a(3),x=a(6154);let h=(0,i.A)("arrow-up-right",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);var u=a(7586),p=a(4901),m=a(8125),g=a(8566);let b=()=>{let{user:e}=(0,p.A)(),{leads:t,loading:a}=(0,m.uz)(),{qualifiers:r,loading:i}=(0,m.jB)(),b=t.length,f=t.filter(e=>e.status===g.X.HOT).length,y=b>0?(f/b*100).toFixed(1):"0.0",j=r.filter(e=>"active"===e.status).length,v=[{label:"Total Leads",value:b.toString(),icon:(0,s.jsx)(d.A,{className:"text-blue-400"}),change:"+12.5%"},{label:"Qualified (Hot)",value:f.toString(),icon:(0,s.jsx)(n,{className:"text-green-400"}),change:"+5.2%"},{label:"Conversion Rate",value:"".concat(y,"%"),icon:(0,s.jsx)(c,{className:"text-purple-400"}),change:"+2.1%"},{label:"Active Qualifiers",value:j.toString(),icon:(0,s.jsx)(o.A,{className:"text-amber-400"}),change:"0"}],N=t.slice(0,5);return a||i?(0,s.jsx)("div",{className:"flex h-screen items-center justify-center",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-6 py-10",children:[(0,s.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-12",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h1",{className:"text-3xl font-bold text-white mb-2 tracking-tight",children:["Welcome Back, ",(null==e?void 0:e.displayName)||"Admin"]}),(0,s.jsx)("p",{className:"text-gray-400",children:"Here's what's happening with your high-ticket funnel."})]}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsxs)(l(),{href:"/qualifiers",className:"px-5 py-2.5 bg-dark-800 border border-gray-700 hover:bg-dark-700 text-white rounded-xl font-bold transition-all flex items-center gap-2",children:[(0,s.jsx)(o.A,{size:18}),"Manage Qualifiers"]}),(0,s.jsxs)(l(),{href:"/builder",className:"px-5 py-2.5 bg-primary-600 hover:bg-primary-500 text-white rounded-xl font-bold transition-all flex items-center gap-2 btn-glow",children:[(0,s.jsx)(x.A,{size:18}),"New Qualifier"]})]})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:v.map((e,t)=>(0,s.jsxs)("div",{className:"glass p-6 rounded-2xl border-gray-800/50",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-dark-800 rounded-lg flex items-center justify-center",children:e.icon}),(0,s.jsx)("span",{className:"text-xs font-bold text-green-400 px-2 py-1 bg-green-400/10 rounded-full",children:e.change})]}),(0,s.jsx)("div",{className:"text-2xl font-black text-white mb-1",children:e.value}),(0,s.jsx)("p",{className:"text-gray-500 text-sm",children:e.label})]},t))}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,s.jsxs)("div",{className:"lg:col-span-2 glass rounded-2xl border-gray-800/50 overflow-hidden",children:[(0,s.jsxs)("div",{className:"px-6 py-4 border-b border-gray-800 flex items-center justify-between",children:[(0,s.jsx)("h2",{className:"text-lg font-bold text-white",children:"Recent Leads"}),(0,s.jsxs)(l(),{href:"/leads",className:"text-sm text-primary-400 hover:text-primary-300 font-medium flex items-center gap-1",children:["View All ",(0,s.jsx)(h,{size:14})]})]}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{className:"bg-dark-900/50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-black text-gray-500 uppercase tracking-widest",children:"Lead"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-black text-gray-500 uppercase tracking-widest",children:"Score"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-black text-gray-500 uppercase tracking-widest",children:"Status"}),(0,s.jsx)("th",{className:"px-6 py-4 text-right text-xs font-black text-gray-500 uppercase tracking-widest",children:"Action"})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-gray-800",children:0===N.length?(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:4,className:"px-6 py-8 text-center text-gray-500 text-sm",children:"No leads yet. Share your qualifier to get started!"})}):N.map(e=>(0,s.jsxs)("tr",{className:"hover:bg-dark-900/30 transition-colors group",children:[(0,s.jsxs)("td",{className:"px-6 py-4",children:[(0,s.jsx)("div",{className:"text-sm font-bold text-white group-hover:text-primary-400 transition-colors",children:e.name}),(0,s.jsx)("div",{className:"text-xs text-gray-500",children:e.email})]}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-16 h-1.5 bg-gray-800 rounded-full overflow-hidden",children:(0,s.jsx)("div",{className:"h-full ".concat(e.score>80?"bg-green-500":e.score>50?"bg-amber-500":"bg-red-500"),style:{width:"".concat(e.score,"%")}})}),(0,s.jsx)("span",{className:"text-xs font-mono font-bold text-gray-400",children:e.score})]})}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsx)("span",{className:"px-2 py-1 rounded-md text-[10px] font-black tracking-wider uppercase ".concat(e.status===g.X.HOT?"bg-green-500/10 text-green-400 border border-green-500/20":e.status===g.X.WARM?"bg-amber-500/10 text-amber-400 border border-amber-500/20":"bg-red-500/10 text-red-400 border border-red-500/20"),children:e.status})}),(0,s.jsx)("td",{className:"px-6 py-4 text-right",children:(0,s.jsx)(l(),{href:"/leads",className:"text-gray-500 hover:text-white transition-colors",children:(0,s.jsx)(h,{size:18})})})]},e.id))})]})})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"glass p-6 rounded-2xl border-gray-800/50 bg-gradient-to-br from-primary-600/10 to-indigo-600/10",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,s.jsx)(x.A,{className:"text-primary-400",size:24}),(0,s.jsx)("h3",{className:"font-bold text-white",children:"AI Optimization Insight"})]}),(0,s.jsx)("p",{className:"text-sm text-gray-400 leading-relaxed mb-6",children:'"Your leads from LinkedIn are converting 2.4x better than Facebook. Consider increasing your LinkedIn ad spend to maximize ROI."'}),(0,s.jsx)("button",{className:"w-full py-2 bg-dark-800 hover:bg-dark-700 text-white rounded-lg text-sm font-bold transition-all border border-gray-700",children:"Apply Recommendation"})]}),(0,s.jsxs)("div",{className:"glass p-6 rounded-2xl border-gray-800/50",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,s.jsx)(u.A,{className:"text-amber-400",size:24}),(0,s.jsx)("h3",{className:"font-bold text-white",children:"Live Conversation Tip"})]}),(0,s.jsx)("div",{className:"space-y-4",children:(0,s.jsxs)("div",{className:"bg-dark-900/50 p-4 rounded-xl text-xs border border-gray-800",children:[(0,s.jsx)("p",{className:"text-primary-400 font-bold mb-1",children:"QualifyAI:"}),(0,s.jsx)("p",{className:"text-gray-400 italic",children:"\"Based on our data, try asking about their 'revenue bottleneck' instead of 'budget' first. It uncovers 15% more high-intent leads.\""})]})})]})]})]})]})}}},e=>{e.O(0,[992,811,477,206,441,255,358],()=>e(e.s=80)),_N_E=e.O()}]);